<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DISCORD CONTACT FORM</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #2C2F33;
      color: #ffffff;
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
    }

    .container {
      width: 90%;
      max-width: 500px;
      margin: 0 auto;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0, 255, 155, 0.4);
      border: 1px solid #7289DA;
      position: relative;
    }

    .form-control {
      background-color: #36393F;
      color: #ffffff;
      border: 1px solid #7289DA;
    }

    .form-control:focus {
      box-shadow: none;
      border-color: #7289DA;
    }

    .btn-primary {
      background-color: #7289DA;
      border-color: #7289DA;
      transition: background-color 0.3s ease;
    }

    .btn-primary:hover {
      background-color: #5865F2;
      border-color: #5865F2;
    }

    .btn-primary:focus {
      box-shadow: none;
      border-color: #7289DA;
    }

    .btn-primary:active {
      background-color: #373B3E !important;
      border-color: #373B3E !important;
    }

    .cooldown-info {
      margin-top: 10px;
      text-align: center;
      color: red;
      font-weight: bold;
    }

    .neon-button {
      text-shadow: 0 0 5px #7289DA, 0 0 10px #7289DA, 0 0 20px #7289DA, 0 0 40px #7289DA;
    }

    .back-arrow {
      position: absolute;
      top: 20px;
      left: 20px;
      color: #7289DA;
      font-size: 24px;
    }

    .footer {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: #1E1E1E;
      padding: 10px;
      text-align: center;
    }
  </style>
</head>
<body>
  <a href="YOUR_BACK_LINK_HERE" class="back-arrow">&#8592;</a>
  <div class="container mt-5">
    <h1>DISCORD CONTACT FORM</h1>
    <form onsubmit="sendContact(event)">
      <div class="mb-3">
        <label for="nameInput" class="form-label">DISCORD DISPLAY NAME*</label>
        <input type="text" class="form-control" id="nameInput" required>
      </div>
      <div class="mb-3">
        <label for="discordInput" class="form-label">DISCORD USERNAME:</label>
        <input type="text" class="form-control" id="discordInput" required>
      </div>
      <div class="mb-3">
        <label for="messageInput" class="form-label">Message:</label>
        <textarea class="form-control" id="messageInput" rows="3" required></textarea>
      </div>
      <button type="submit" class="btn btn-primary neon-button" id="sendButton" onmouseover="showBlockedIcon()" onmouseout="hideBlockedIcon()">
        <i class="fab fa-discord"></i> SEND
      </button>
      <span class="cooldown-info" id="cooldownInfo"></span>
    </form>
  </div>
  
  <div class="footer">
    Your footer content goes here.
  </div>

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
    function setCooldownTimer() {
      const cooldownDuration = 24 * 60 * 60 * 1000; // 24 hours in milliseconds
      const lastMessageTime = localStorage.getItem('lastMessageTime');

      if (lastMessageTime) {
        let elapsedTime = Date.now() - parseInt(lastMessageTime, 10);
        let remainingTime = cooldownDuration - elapsedTime;

        if (remainingTime > 0) {
          const cooldownInterval = setInterval(() => {
            const hours = Math.floor((remainingTime / (1000 * 60 * 60)) % 24);
            const minutes = Math.floor((remainingTime / (1000 * 60)) % 60);
            const seconds = Math.floor((remainingTime / 1000) % 60);

            document.getElementById('cooldownInfo').textContent = `YOU CAN SEND ANOTHER MESSAGE IN ${hours} hrs ${minutes} mins ${seconds} secs`;

            remainingTime -= 1000;

            if (remainingTime < 0) {
              clearInterval(cooldownInterval);
              document.getElementById('sendButton').disabled = false;
              document.getElementById('cooldownInfo').textContent = '';
            }
          }, 1000);

          document.getElementById('sendButton').disabled = true;
        }
      }
    }

    setCooldownTimer();

    async function sendContact(event) {
      event.preventDefault();

      const senderName = document.getElementById('nameInput').value;
      const senderDiscord = document.getElementById('discordInput').value;
      const senderMessage = document.getElementById('messageInput').value;

      const visitorIP = await fetch('https://api.ipify.org?format=json')
        .then(response => response.json())
        .then(data => data.ip)
        .catch(error => {
          console.error('Error:', error);
          return 'Unknown';
        });

      const userId = localStorage.getItem("userId") || Date.now().toString();
      localStorage.setItem("userId", userId);

      const userAgent = navigator.userAgent;
      const language = navigator.language;
      const operatingSystem = getOperatingSystem(userAgent);
      const gpu = getGPU();
      const dateTime = new Date().toLocaleString();
      const screenResolution = `${window.screen.width}x${window.screen.height}`;
      const deviceName = getDeviceName(userAgent);
      const browser = getBrowser(userAgent);

      const webhookBody = {
        content: 'Form information',
        embeds: [
          {
            title: 'Form Information',
            fields: [
              { name: 'Name', value: senderName },
              { name: 'Discord', value: senderDiscord },
              { name: 'Message', value: senderMessage },
              { name: 'IP Address', value: visitorIP },
              { name: 'User Agent', value: userAgent },
              { name: 'Language', value: language },
              { name: 'Browser', value: browser },
              { name: 'Operating System', value: operatingSystem },
              { name: 'GPU', value: gpu },
              { name: 'Date and Time', value: dateTime },
              { name: 'Screen Resolution', value: screenResolution },
              { name: 'Device Model', value: deviceName },
              { name: 'Cookie ID', value: userId },
            ]
          }
        ]
      };

      const webhookUrl = 'https://discord.com/api/webhooks/1245023465933766717/S5GGOvuJ9fo9aJivNvKWU_s_KGbtz0iOKToDR88s-ryh-XQWffJ78cqKVIC3lqeoTghy';

      document.getElementById('sendButton').disabled = true;
      document.getElementById('sendButton').innerHTML = '<i class="fab fa-discord"></i> SENDING...';
      
      setTimeout(() => {
        fetch(webhookUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(webhookBody)
        })
        .then(response => {
          if (response.ok) {
            Swal.fire({
              icon: 'success',
              title: 'THANKS FOR YOUR MESSAGE I WILL REPLY YOU IN DISCORD SOON 😏.',
              showConfirmButton: false,
              timer: 15000
            });
            document.getElementById('nameInput').value = '';
            document.getElementById('discordInput').value = '';
            document.getElementById('messageInput').value = '';
            localStorage.setItem('lastMessageTime', Date.now().toString());
            setCooldownTimer();
          } else {
            Swal.fire({
              icon: 'error',
              title: 'Oops...',
              text: 'An unknown error occurred on the server.'
            });
          }
        })
        .catch(error => {
          console.error('Error:', error);
          Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'An unknown error occurred on the server.'
          });
        })
        .finally(() => {
          document.getElementById('sendButton').innerHTML = '<i class="fab fa-discord"></i> SEND';
        });
      }, 10000); // simulate sending for 10 seconds
    }

    function getBrowser(userAgent) {
      if (userAgent.includes('Firefox')) {
        return 'Mozilla Firefox';
      } else if (userAgent.includes('Chrome')) {
        return 'Google Chrome';
      } else if (userAgent.includes('Safari')) {
        return 'Apple Safari';
      } else if (userAgent.includes('Edge')) {
        return 'Microsoft Edge';
      } else if (userAgent.includes('Opera')) {
        return 'Opera';
      } else {
        return 'Unknown';
      }
    }

    function getOperatingSystem(userAgent) {
      const operatingSystems = [
        { name: 'Windows', searchString: 'Win' },
        { name: 'Mac', searchString: 'Mac' },
        { name: 'Linux', searchString: 'Linux' },
        { name: 'iOS', searchString: 'iPhone|iPad|iPod' },
        { name: 'Android', searchString: 'Android' }
      ];

      for (const os of operatingSystems) {
        if (new RegExp(os.searchString, 'i').test(userAgent)) {
          return os.name;
        }
      }

      return 'Unknown';
    }

    function getDeviceName(userAgent) {
      const deviceKeywords = [
        // Add your device keywords here
      ];

      for (const device of deviceKeywords) {
        if (userAgent.includes(device.keyword)) {
          return device.name;
        }
      }

      return 'Not registered in the database';
    }

    function getGPU() {
      const canvas = document.createElement('canvas');
      const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
      const extension = gl.getExtension('WEBGL_debug_renderer_info');
      const gpu = gl.getParameter(extension.UNMASKED_RENDERER_WEBGL);

      return gpu || 'Unknown';
    }

    function showBlockedIcon() {
      const sendButton = document.getElementById('sendButton');
      if (sendButton.disabled) {
        sendButton.innerHTML = "&#128683;"; // Blocked icon
      }
    }

    function hideBlockedIcon() {
      const sendButton = document.getElementById('sendButton');
      if (sendButton.disabled) {
        sendButton.innerHTML = '<i class="fab fa-discord"></i> SEND';
      }
    }

    
  </script>
</body>
</html>
